@{
    Layout = "~/Views/Shared/_Master.cshtml";
}

@model BlogPost

@using (var container = Bootstrap.Container().AddCss("banner", "container-sm-height"))
{
    using (var row = container.GridRow().AddCss("row-sm-height"))
    {
        using (row.GridColumn().Sm(8).AddCss("col-sm-height", "col-bottom"))
        {
            <div class="title">@Title</div>
            if (!string.IsNullOrWhiteSpace(Lead))
            {
                <div class="lead">@Lead</div>
            }
        }
        using (row.GridColumn().Sm(4).AddCss("col-sm-height", "col-bottom", "stats"))
        {
            using (var statRow = Bootstrap.GridRow())
            {
                using (statRow.GridColumn().Sm(12))
                {
                    <hr class="@Css.VisibleXsBlock" />
                    if (Tags != null)
                    {
                        <div><strong>Tags</strong></div>
                        <div>
                            @foreach (string tag in Tags)
                            {
                                @Html.TagButton(tag)
                            }
                        </div>     
                    }     
                    if (Published != default(DateTime))
                    {
                        <div><strong>Published</strong></div>
                        <div class="icon-calendar"> @Published.ToLongDateString()</div>
                    }
                    if (Edited != default(DateTime))
                    {
                        <div><strong>Edited</strong></div>
                        <div>@Edited.ToLongDateString()</div>
                    }
                    <div><strong>Comments</strong></div>
                    <div class="icon-talk-chat-2"> <a href="#disqus_thread" data-disqus-identifier="@Model.GetViewName()"></a></div>                    
                }
            }
        }                
    }
}

@using (var container = Bootstrap.Container())
{
    <hr />
    using (var row = container.GridRow())
    {
        using (row.GridColumn().Sm(12))
        {
            @RenderBody()
        }         
    }
}

@using (var container = Bootstrap.Container())
{
    <hr />
    using (var row = container.GridRow())
    {
        using (row.GridColumn().Sm(12))
        {
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                var disqus_shortname = 'somedave'; // required: replace example with your forum shortname
                var disqus_identifier = '@Model.GetViewName()';
                var disqus_title = '@Title';
                var disqus_url = 'http://www.somedave.com/posts/@Model.GetViewName()';

                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>    
        }         
    }
}
